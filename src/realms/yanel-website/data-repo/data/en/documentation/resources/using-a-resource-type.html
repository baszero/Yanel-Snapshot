<?xml version="1.0"?><html xmlns="http://www.w3.org/1999/xhtml"><head>  <title>Using a resource type</title>  <link rel="neutron-introspection" type="application/neutron+xml" href="?yanel.resource.usecase=introspection"/></head><body>  <h1>Registering and using a resource type</h1><br/><h2>Registering a resource type<br/></h2>In order to use an existing resource type within a realm one first needs to register the resource type such that the Yanel core knows about it. A resource can either be registered by providing a directory path to where the definition of the resource type is located<br/><br/><i>&lt;yanel:resource-type src=&quot;/home/USER/yanel-resource-types/calendar/&quot;/&gt;<br/></i><br/>or by providing a package name if the resource type is available as jar file<br/><br/><i>&lt;yanel:resource-type package=&quot;org.wyona.yanel.impl.resources.redirect&quot;/&gt;</i><br/><br/>whereas such a package needs to contain a <i>resource.xml</i> file and if no <i>src</i> attribute was specified, then it needs to be referenced by some maven dependencies file in order to be downloaded. As an example see the redirect resource configured within <i>YANEL_HOME/conf/resource-types.xml</i>.<br/><br/>In the case of a binary webapp distribution one needs to add such an entry to the file <i>WEB-INF/classes/resource-types.xml</i>.<br/><br/>In the case of the source distribution one should copy the file <i>conf/resource-types.xml</i> to <i>conf/local/local.resource-types.xml</i> and add such a resource-type entry to this local file (whereas the path to this local configuration file can be configured within <i>src/build/(local.)build.properties</i> with the l<i>ocal.config.dir</i> parameter). Please note that the local configuration file is overwriting  the default configuration (and is NOT additional).<br/><br/>Please note that a resource is basically a Java class which is compiled during the build process of Yanel, hence once needs to add a src attribute also for resource types which shall be made available as a package, e.g.<br/><br/><i>&lt;yanel:resource-type package=&quot;org.wyona.yanel.impl.resources.redirect&quot; src=&quot;/home/USER/yanel/contributions/resources/redirect/&quot; compile=&quot;true&quot;/&gt;</i><br/><br/>except the library containing the package is referenced within some maven dependencies file of a realm or another resource.
<h2>Using a resource type</h2><p>Depending on the realm configuration one first has to figure out where the realm specific resource configurations are located. Take a look at the realm configuration file <i>realm.xml</i> and search for the XML element with the name &quot;rti&quot;. In the case of the &quot;from scratch&quot; realm  the value should be <i>config/rti-repository.xml</i> (whereas the path is resolved relative to the file <i>realm.xml</i>). <br/></p><p>Then take a look at this file and depending on the configured repository implementation one should be able to figure out where the resource configurations are located. In the case of the &quot;from scratch&quot; realm, the resource configurations are located within the directory <i>res-configs</i>.<br/></p></body>
</html>