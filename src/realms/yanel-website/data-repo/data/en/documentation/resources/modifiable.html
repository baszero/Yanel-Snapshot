<?xml version="1.0"?>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Update (Edit/Modify) a resource</title>
</head>
<body>
<div class="instructions">
<h1>Update (Edit/Modify) a resource</h1>
<p>A Yanel resource which allows one to edit/update/modify the underlying data is called a modifiable resource. The actual data access (read/write) is specific to the resource (see <a href="viewable.html">Read/View a resource</a>). Yanel provides generic interfaces (Modifiable and Introspectable) in order to make the integration of common editing tools (for example Yulup, OpenOffice or TinyMCE) as easy as possible.</p>
<h2>Yulup/Neutron</h2>
Yulup has the Neutron protocol implemented and allows editing of Plain-Text, HTML, XHTML and arbitrary XML with XSLT stylesheets applied documents in source and WYSIWYG mode. Yulup is using a Neutron introspection document as entry point. An introspection document can be specified within the head of an (X)HTML page, e.g.
<pre>&lt;html<span class="attribute-name"> xmlns</span>=<span class="attribute-value">"http://www.w3.org/1999/xhtml"</span>&gt;<br />  &lt;head&gt;<br />    &lt;link <span class="attribute-name">href</span>=<span class="attribute-value">"my-introspection-document.xml" </span><span class="attribute-name">type</span>=<span class="attribute-value">"application/neutron+xml" </span><span class="attribute-name">rel</span>=<span class="attribute-value">"neutron-introspection"</span><span class="attribute-name">/</span>&gt;</pre>
Yulup does not care how this introspection document is generated, which means it can be a static file on the server side or it can be dynamically generated by a server side web-application. A sample introspection document is as follows
<pre>&lt;introspection<span class="attribute-name"> xmlns</span>=<span class="attribute-value">"http://www.wyona.org/neutron/2.0"</span>&gt;<br />  &lt;resource name="My Article"&gt;<br />    &lt;edit mime-type="application/xhtml+xml"&gt;<br />      &lt;checkout url="article.html?usecase=checkout" method="GET"/&gt;<br />      &lt;/checkin url="article.html?usecase=checkin" method="PUT"/&gt;<br />    &lt;/edit&gt;<br />  &lt;/resource<br />&lt;/introspection&gt;<br /></pre>
As described within the introduction a Yanel resource is hiding the actual data access and Yanel itself does not know how to update the data associated with the resource. Hence it makes sense that the resource itself has a means to provide an introspection document. This can be accomplished by implementing the <a href="http://yanel.wyona.org/javadoc/org/wyona/yanel/core/api/attributes/IntrospectableV1.html">Introspectable</a> interface. The <a href="http://yanel.wyona.org/javadoc/org/wyona/yanel/core/api/attributes/IntrospectableV1.html">Introspectable</a> interface of a resource can be triggered by appending the query string ?yanel.resource.usecase=introspection to the URL associated with the resource, e.g.
<pre>&lt;html<span class="attribute-name"> xmlns</span>=<span class="attribute-value">"http://www.w3.org/1999/xhtml"</span>&gt;<br />  &lt;head&gt;<br />    &lt;link <span class="attribute-name">href</span>=<span class="attribute-value">"?yanel.resource.usecase=introspection" </span><span class="attribute-name">type</span>=<span class="attribute-value">"application/neutron+xml" </span><span class="attribute-name">rel</span>=<span class="attribute-value">"neutron-introspection"</span><span class="attribute-name">/</span>&gt;<br /></pre>
In most cases the resource will generate an introspection document as follows
<pre>&lt;introspection<span class="attribute-name"> xmlns</span>=<span class="attribute-value">"http://www.wyona.org/neutron/2.0"</span>&gt;<br />  &lt;resource name="The data of my resource"&gt;<br />    &lt;edit mime-type="application/xhtml+xml"&gt;<br />      &lt;checkout url="?yanel.resource.viewid=source&amp;yanel.resource.usecase=checkout" method="GET"/&gt;<br />      &lt;/checkin url="?yanel.resource.usecase=checkin" method="PUT"/&gt;<br />    &lt;/edit&gt;<br />  &lt;/resource<br />&lt;/introspection&gt;<br /></pre>
So by implementing the Introspectable interface, Yulup (or any other editing tool supporting the Neutron protocol) will be able to discover the entry points for reading and writing content.<br /><br />The actual reading and writing can be done generically by implementing the <a href="http://yanel.wyona.org/javadoc/org/wyona/yanel/core/api/attributes/ModifiableV2.html">Modifiable</a> interface. In the case of reading one differentiates between open and checkout. To open means the data is being retrieved by the client, but no lock on the server side is being set. To checkout means the data is being retrieved by the client and a lock on the server side is being set/acquired.<br />
<h2>Yulup/APP (Atom Publishing Protocol)</h2>
Yulup implements the APP (Atom Publishing Protocol).&#172;&#8224; Yulup is using an Atom service document as entry point. A service document can be specified within the head of an (X)HTML page, e.g.
<pre>&lt;html<span class="attribute-name"> xmlns</span>=<span class="attribute-value">"http://www.w3.org/1999/xhtml"</span>&gt;<br />  &lt;head&gt;<br />    &lt;link <span class="attribute-name">href="my-service-document.xml" type</span>=<span class="attribute-value">"application/atomsvc+xml" </span><span class="attribute-name"><span class="attribute-value"><span class="attribute-name">rel</span>=<span class="attribute-value">"service"</span><span class="attribute-name">/</span>&gt;</span></span><br /></pre>
</div>
<h2>TinyMCE (Major Version: 2, Release Date: 2007-11-27)</h2>
<h3>Version</h3>
<p><code>tiny_mce/tiny_mce_src.js</code></p>
<h3>Enable/disable "Widgets"</h3>
<p><code>tiny_mce/tinymceinit.js</code></p>
<ul>
<li>image (<code>tiny_mce/themes/advanced/image.htm</code> which is called by <code>tiny_mce/themes/advanced/editor_template.js</code>, whereas the link is enhanced with <code>yanel.toolbar=suppress</code> in order to suppress the Yanel toolbar)</li>
</ul>
<h3>Hooks</h3>
<ul>
<li>http://127.0.0.1:8080/yanel/from-scratch-realm/en/projects.html</li>
<li>http://127.0.0.1:8080/yanel/from-scratch-realm/en/projects.html.tinymce-edit.html</li>
<li>src/realms/from-scratch-realm-template/res-configs/map.rc-map</li>
<li>src/resources/tinymce/htdocs/tinymce.jelly</li>
<li>src/resources/tinymce/htdocs/js/</li>
<li>Version 3.2.1.1: src/resources/tinymce/htdocs/tinymce/jscripts/tiny_mce/tiny_mce.js</li>
<li>Version 3.3.5.1: src/resources/tinymce/htdocs/tinymce_3_3_5_1/jscripts/tiny_mce/tiny_mce.js</li>
<li>Insert Image: src/resources/tinymce/htdocs/tinymce/jscripts/tiny_mce/themes/advanced/image.htm</li>
<li>Lookup: <a href="../../../../from-scratch-realm/usecases/tinymce-lookup.html?type=image&amp;yanel.target-back2realm=../&amp;yanel.toolbar=suppress">http://127.0.0.1:8080/yanel/from-scratch-realm/usecases/tinymce-lookup.html?type=image&amp;yanel.target-back2realm=../&amp;yanel.toolbar=suppress</a></li>
<li>src/realms/from-scratch-realm-template/res-configs/usecases/tinymce-lookup.html.yanel-rc</li>
<li>src/resources/tinymce/htdocs/js/tinymceinit.js</li>
<li>src/contributions/resources/lookup/htdocs/tinymce-lookup.jelly</li>
</ul>
<p>&#160;</p>
</body>
</html>