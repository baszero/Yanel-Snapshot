<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>Untitled document</title>
</head>
<body>
<h1>KonaKart Integration</h1>
<p><a href="http://www.konakart.com/">KonaKart</a> is a Java based eCommerce Shopping Cart Software.</p>
<p>KonaKart supports <a href="http://www.konakart.com/installationfaq.php">various databases</a>, but the following step-by-step instruction is based on PostgreSQL.</p>
<h3>Install PostgreSQL on a Linux server<br /></h3>
<ul>
<li>uname -a</li>
<li>sudo bash</li>
<li>aptitude search postgres</li>
<li>aptitude install postgresql-8.2</li>
<li>ls /var/lib/postgresql/8.2/</li>
<li>/etc/init.d/postgresql-8.2 stop</li>
<li>/etc/init.d/postgresql-8.2 start</li>
<li>su - postgres</li>
<li>psql -U postgres</li>
<li>select * from pg_tables;</li>
</ul>
<h3>Import KonaKart sample data into PostgreSQL</h3>
<ul>
<li>Download KonaKart, e.g. the ZIP version of the <a href="http://www.konakart.com/downloads/community_edition">community edition</a></li>
<li>Also see the <a href="http://www.konakart.com/docs/manualInstallation.html">KonaKart manual installation FAQ</a> (Previous: <a href="http://www.konakart.com/manual_installationfaq.php">KonaKart manual installation FAQ<br /></a>)</li>
<li>Create a KonaKart database within PostgreSQL:        
<ul>
<li>sudo bash</li>
<li>/etc/init.d/postgresql-8.2 start</li>
<li>su - postgres</li>
<li>dropdb -U postgres konakart</li>
<li>createdb -U postgres --encoding unicode konakart</li>
</ul>
</li>
<li>Import the sample data:        
<ul>
<li>Depending on what web-server port you want to run KonaKart, you might have to change the port within the KonaKart sample data:       
<ul>
<li>grep 8780 konakart-community/database/PostgreSQL/konakart_demo.sql</li>
<li>Replace the port number 8780 for example by 8080: vi: 1,$s/8780/8080/g</li>
<li>grep localhost:8780 konakart-community/database/PostgreSQL/konakart_demo.sql</li>
<li>Replace localhost by the actual server host name</li>
</ul>
</li>
<li>Import the data: psql -U postgres -d konakart -f konakart-community/database/PostgreSQL/konakart_demo.sql</li>
<li>Test the data:       
<ul>
<li>psql -U postgres -d konakart</li>
<li>select * from products;</li>
</ul>
</li>
<li>...</li>
</ul>
</li>
<li>...</li>
</ul>
<h3>Configure the database connection within KonaKart and PostgreSQL<br /></h3>
<ul>
<li>webapps/konakart/WEB-INF/classes/konakart.properties   
<ul>
<li>torque.database.store1.adapter&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; = postgresql</li>
<li>torque.dsfactory.store1.connection.driver&#160;&#160; = org.postgresql.Driver</li>
<li>torque.dsfactory.store1.connection.url&#160;&#160;&#160;&#160;&#160; = jdbc:postgresql://localhost:5432/konakart</li>
<li>torque.dsfactory.store1.connection.user&#160;&#160;&#160;&#160; = postgres</li>
<li>torque.dsfactory.store1.connection.password =</li>
</ul>
</li>
<li>webapps/konakartadmin/WEB-INF/classes/konakartadmin.properties</li>
<li>Make sure that postgreSQL is listening     
<ul>
<li>vi /etc/postgresql/8.2/main/postgresql.conf</li>
<li>listen_addresses = 'localhost,127.0.0.1'</li>
<li>netstat -nt -l | grep 5432</li>
</ul>
</li>
<li>Make sure that you can connect without password from localhost:    
<ul>
<li>vi /etc/postgresql/8.2/main/pg_hba.conf</li>
<li>host&#160;&#160;&#160; all&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; all&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 127.0.0.1/32&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; trust</li>
<li>host&#160;&#160;&#160; all&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; all&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ::1/128&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; trust</li>
</ul>
</li>
</ul>
</body>
</html>