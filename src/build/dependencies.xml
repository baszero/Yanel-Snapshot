<?xml version="1.0"?>

<project name="yanel-dependencies" xmlns:artifact="antlib:org.apache.maven.artifact.ant">

  <target name="probe-proxy">
    <echo>Check if proxy has been set ...</echo>
    <condition property="proxy.enabled">
      <isset property="proxy.host"/>
    </condition>
  </target>

  <target name="proxy" depends="probe-proxy" if="proxy.enabled">
    <echo>Set proxy ...</echo>
    <setproxy proxyhost="${proxy.host}" proxyport="${proxy.port}" proxyuser="${proxy.user}" proxypassword="${proxy.pass}"/>
  </target>

  <target name="dependencies" description="Dependencies" depends="proxy">
    <!--
      INFO: http://maven.apache.org/ant-tasks.html
            http://marcus-christie.blogspot.com/2006/08/using-ant-with-maven-1-and-maven-2.html
    -->
    <artifact:remoteRepository id="wyona.remote.repository" url="http://www.wyona.org/maven2/"/>

    <artifact:dependencies pathId="maven2.classpath" filesetId="maven2.fileset">
      <remoteRepository refid="wyona.remote.repository"/>
      <dependency groupId="javax.servlet" artifactId="servlet-api" 
                  version="2.3" scope="provided" />
      <dependency groupId="log4j" artifactId="log4j"
                  version="1.2.8"/>
      <!-- TODO: Add checksum file to server -->
      <!-- IMPORTANT: Please make sure to update pom-core.xml as well! -->
      <dependency groupId="yarep" artifactId="yarep-core"
                  version="0.0.1-dev-r22584"/>
      <dependency groupId="wyona-org-commons" artifactId="wyona-org-commons"
                  version="0.0.1-dev-r22621"/>
      <dependency groupId="wyona-org-security" artifactId="wyona-org-security-core"
                  version="0.0.1-dev-r22197"/>

      <!-- TODO: Add to yanel.xml, because these libs are only needed during runtime -->
      <dependency groupId="avalon-framework" artifactId="avalon-framework-api"
                  version="4.3"/>
      <dependency groupId="avalon-framework" artifactId="avalon-framework-impl"
                  version="4.3"/>
      <dependency groupId="apache-jakarta-commons" artifactId="apache-jakarta-commons-discovery"
                  version="0.2"/>
      <dependency groupId="apache-jakarta-commons" artifactId="apache-jakarta-commons-id"
                  version="0.1-dev-lcr357257"/>
      <dependency groupId="apache-jakarta-commons" artifactId="apache-jakarta-commons-logging"
                  version="1.0.4"/>
      <dependency groupId="apache-jakarta-commons" artifactId="apache-jakarta-commons-io"
                  version="1.2"/>
      <!-- IMPORT: xerces 2.7.1 is dependent on xml-apis 1.3.02 -->
      <dependency groupId="xerces" artifactId="${xerces.impl.artifactId}"
                  version="${xerces.impl.version}"/>
      <dependency groupId="xml-apis" artifactId="${xml.apis.artifactId}"
                  version="${xml.apis.version}"/>
      <dependency groupId="xml-resolver" artifactId="xml-resolver"
                  version="1.1"/>
<!-- The XSLT engine of Java on MacOS X seems to have trouble. With Xalan enabled it should work! Also Abdera seems to need Xalan ... -->
      <dependency groupId="xalan" artifactId="xalan"
                  version="2.7.0"/>
      <dependency groupId="wyona-org-security" artifactId="wyona-org-security-impl"
                  version="0.0.1-dev-r22197"/>
      <!-- IMPORTANT: Please make sure to update pom-core.xml as well! -->
      <dependency groupId="yarep" artifactId="yarep-impl"
                  version="0.0.1-dev-r22672"/>
      <dependency groupId="spring" artifactId="spring"
                  version="2.0"/>
      <dependency groupId="svnkit" artifactId="svnkit"
                  version="1.1.0"/>
      <dependency groupId="xindice" artifactId="xmldb"
                  version="1.0"/>
      <dependency groupId="xindice" artifactId="xindice"
                  version="1.1b4"/>
      <dependency groupId="stax" artifactId="stax"
                  version="1.1.2-dev"/>
      <dependency groupId="stax" artifactId="stax-api"
                  version="1.0"/>
      <dependency groupId="jakarta" artifactId="jakarta-regexp"
                  version="1.4"/>
    </artifact:dependencies>

    <property name="maven2.cp" refid="maven2.classpath"/>
    <!--<echo>Maven2 classpath: ${maven2.cp}</echo>-->

  </target>

</project>
